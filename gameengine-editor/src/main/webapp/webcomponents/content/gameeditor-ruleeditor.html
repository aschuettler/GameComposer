<!--
  ~ Copyright 2016 Mirko Sertic
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~       http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->
<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="shared-styles.html">

<link rel="import" href="../properteditor/gameeditor-selectpropertyeditor.html">
<link rel="import" href="../properteditor/gameeditor-textfieldpropertyeditor.html">
<link rel="import" href="gameeditor-keyeventcondition.html">
<link rel="import" href="gameeditor-deletegameobjectinstanceaction.html">
<link rel="import" href="gameeditor-objectcollisioncondition.html">
<link rel="import" href="gameeditor-runluascriptaction.html">

<dom-module id="gameeditor-ruleeditor">
    <template>
        <style include="content-shared-styles">
            :host {
                width: 100%;
            }

            .vertical {
                display: flex;
                flex-direction: row;
            }

            .ruleName {
                margin: 0.3em;
            }

            .condition {
                margin: 0.4em;
                flex-grow: 1;
                padding-right: 30px;

                border-style: solid; border-width: 4px 34px 4px 3px; -moz-border-image: url(puzzleleft.png) 13 78 22 13 repeat stretch; -webkit-border-image: url(puzzleleft.png) 13 78 22 13 repeat stretch; -o-border-image: url(puzzleleft.png) 13 78 22 13 repeat stretch; border-image: url(puzzleleft.png) 13 78 22 13 fill repeat stretch;            }

            .actions {
                flex-grow: 2;
                margin: 0.4em;
                padding-left: 10px;

                border-style: solid; border-width: 0px 0px 4px 38px; -moz-border-image: url(puzzleright.png) 7 17 11 71 repeat stretch; -webkit-border-image: url(puzzleright.png) 7 17 11 71 repeat stretch; -o-border-image: url(puzzleright.png) 7 17 11 71 repeat stretch; border-image: url(puzzleright.png) 7 17 11 71 fill repeat stretch;
            }

        </style>

        <div class="ruleName">
            <gameeditor-textfieldpropertyeditor label="Rule name" id="rulename"></gameeditor-textfieldpropertyeditor>
        </div>

        <div class="vertical">
            <div class="condition">
                <gameeditor-selectpropertyeditor id="conditionselection" label="Condition"></gameeditor-selectpropertyeditor>
                <div id="conditionproperties">
                    <gameeditor-textfieldpropertyeditor label="A" ></gameeditor-textfieldpropertyeditor>
                    <gameeditor-textfieldpropertyeditor label="B" ></gameeditor-textfieldpropertyeditor>
                    <gameeditor-textfieldpropertyeditor label="C" ></gameeditor-textfieldpropertyeditor>
                    <gameeditor-textfieldpropertyeditor label="D" ></gameeditor-textfieldpropertyeditor>
                </div>
            </div>
            <div class="actions">Actions
                <div id="actionelements">
                    <gameeditor-runluascriptaction></gameeditor-runluascriptaction>
                </div>
            </div>
        </div>

    </template>
    <script>
        Polymer({
            is: 'gameeditor-ruleeditor',

            properties: {
            },

            rulename: function() {
                return this.$.rulename;
            },

            clearconditionproperties: function() {
                var theButtonsDom = Polymer.dom(this.$.conditionproperties);
                while (theButtonsDom.firstChild) {
                    theButtonsDom.removeChild(theButtonsDom.firstChild);
                }
            },

            actionelements: function() {
                return this.$.actionelements;
            },

            clearactions: function() {
                var theButtonsDom = Polymer.dom(this.$.actionelements);
                while (theButtonsDom.firstChild) {
                    theButtonsDom.removeChild(theButtonsDom.firstChild);
                }
            },

            conditionproperties: function() {
                return this.$.conditionproperties;
            },

            conditionselection: function() {
                return this.$.conditionselection;
            },

            ready: function() {
            }

        });
    </script>
</dom-module>