<!--
  ~ Copyright 2016 Mirko Sertic
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~       http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->
<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="shared-styles.html">

<dom-module id="gameeditor-tabbedpane">
    <template>
        <style include="global-shared-styles"></style>

        <div class="tabpane">
            <div id="buttons" class="buttons">
                <div class="button">Pane 1</div>
                <div class="button selected">Pane 2</div>
                <div class="button">Pane 3</div>
            </div>
            <div id="con"></div>
                <content id="content"></content>
            </div>
        </div>
    </template>
    <script>
        Polymer({
            is: 'gameeditor-tabbedpane',

            properties: {
                index: {
                    type: Number,
                    notify: true,
                    value: 0
                },
            },

            clearAll: function() {
                while (this.$.buttons.hasChildNodes()) {
                    this.$.buttons.removeChild(this.$.buttons.lastChild);
                }
            },

            clearContent: function() {
                while (this.hasChildNodes()) {
                    this.removeChild(this.lastChild);
                }
            },

            addTab: function(aTite, aElement) {
                this.clearContent();

                var theDiv = document.createElement("div");
                theDiv.innerText = aTite;
                if (this.index == 0) {
                    theDiv.setAttribute("class", "button selected");
                } else {
                    theDiv.setAttribute("class", "button");
                }
                var theCurrentIndex = this.index;
                theDiv.addEventListener("click", function(e) {
                    this.index = theCurrentIndex;
                }, true);

                Polymer.dom(this.$.buttons).appendChild(theDiv);
                Polymer.dom(this).appendChild(aElement);

                this.index++;
            },

            ready: function() {
            }
        });
    </script>
</dom-module>